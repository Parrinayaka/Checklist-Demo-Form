<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Employee Computer Checklist</title>
  <style>
    :root {
      --bg: #f5f7fb;
      --card: #ffffff;
      --accent: #2b6cb0;
      --muted: #6b7280;
      --success: #16a34a;
      --danger: #dc2626;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    body {
      margin: 0;
      background: linear-gradient(180deg, var(--bg), #eef2ff 60%);
      color: #111827;
      padding: 24px;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    .container {
      max-width: 960px;
      margin: 0 auto;
    }
    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      margin-bottom: 18px;
    }
    header h1 {
      margin: 0;
      font-size: 20px;
      letter-spacing: 0.2px;
    }
    .card {
      background: var(--card);
      border-radius: 12px;
      box-shadow: 0 6px 18px rgba(15, 23, 42, 0.08);
      padding: 20px;
    }
    .form-row {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      margin-bottom: 12px;
    }
    label {
      font-size: 13px;
      color: var(--muted);
      display: block;
      margin-bottom: 6px;
    }
    input[type="text"], input[type="date"], select {
      padding: 10px 12px;
      border-radius: 8px;
      border: 1px solid #e6e9ef;
      min-width: 160px;
      font-size: 14px;
      background: #fff;
    }
    textarea {
      width: 100%;
      padding: 10px 12px;
      border-radius: 8px;
      border: 1px solid #e6e9ef;
      font-size: 14px;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-bottom: 12px;
    }
    @media (max-width: 700px) {
      .grid { grid-template-columns: 1fr; }
      .form-row { flex-direction: column; }
    }
    .section-title {
      font-weight: 600;
      margin: 8px 0 6px 0;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .checklist {
      display: grid;
      gap: 8px;
      padding: 8px 0 0 0;
    }
    .item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #eef2f6;
    }
    .item label {
      margin: 0;
      color: #111827;
      font-size: 14px;
      font-weight: 500;
    }
    .muted {
      color: var(--muted);
      font-size: 13px;
    }
    .controls {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }
    button {
      padding: 9px 12px;
      border-radius: 8px;
      border: 0;
      background: var(--accent);
      color: white;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 6px 12px rgba(43, 108, 176, 0.12);
    }
    button.secondary {
      background: #eef2ff;
      color: var(--accent);
      box-shadow: none;
      border: 1px solid rgba(43, 108, 176, 0.08);
    }
    button.warn {
      background: var(--danger);
      box-shadow: 0 6px 12px rgba(220, 38, 38, 0.12);
    }
    .actions {
      display: flex;
      gap: 8px;
      margin-top: 12px;
      flex-wrap: wrap;
    }
    footer {
      margin-top: 14px;
      text-align: center;
      color: var(--muted);
      font-size: 13px;
    }
    /* Before/After Image Layout */
.image-row {
  display: flex;
  gap: 20px;
  justify-content: space-between;
  margin-top: 14px;
  flex-wrap: wrap;
}
.image-col {
  flex: 1;
  min-width: 280px;
}
.img-preview img {
  margin-top: 8px;
  max-width: 100%;
  border-radius: 8px;
  border: 1px solid #e5e7eb;
  box-shadow: 0 2px 6px rgba(0,0,0,0.08);
}


    /* Print */
    @media print {
      body { background: white; padding: 0; }
      header .controls, .no-print { display: none !important; }
      .card { box-shadow: none; border-radius: 0; padding: 6mm; }
      button { display: none; }
      img { max-width: 100%; margin-top: 8px; }
      textarea {
        border: none !important;
        border-bottom: 1px solid #000 !important;
        resize: none !important;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Employee Computer Checklist</h1>
      <div class="controls no-print">
        <button id="saveBtn">Save</button>
        <button class="secondary" id="loadBtn">Load</button>
        <button class="secondary" id="clearBtn">Clear</button>
      </div>
    </header>

    <main class="card" role="main">
      <form id="checklistForm" autocomplete="off" onsubmit="return false;">

        <div class="form-row">
          <div>
            <label for="empName">Employee Name</label>
            <input id="empName" type="text" placeholder="e.g. Rajesh Kumar">
          </div>
          <div>
            <label for="department">Department</label>
            <input id="department" type="text" placeholder="e.g. IT / Finance">
          </div>
          <div>
            <label for="dateIssued">Date Issued</label>
            <input id="dateIssued" type="date">
          </div>
        </div>

        <div class="section-title">
          <div>Hardware</div>
          <div class="muted">Tick items provided</div>
        </div>
        <div class="checklist" id="hardwareList">
          <div class="item"><input type="checkbox" id="hw_laptop"><label for="hw_laptop">Laptop / Desktop issued</label></div>
          <div class="item"><input type="checkbox" id="hw_monitor"><label for="hw_monitor">Monitor(s)</label></div>
          <div class="item"><input type="checkbox" id="hw_keyboard"><label for="hw_keyboard">Keyboard</label></div>
          <div class="item"><input type="checkbox" id="hw_mouse"><label for="hw_mouse">Mouse</label></div>
          <div class="item"><input type="checkbox" id="hw_headset"><label for="hw_headset">Headset / Speakers</label></div>
          <div class="item"><input type="checkbox" id="hw_dock"><label for="hw_dock">Docking Station</label></div>
          <div class="item"><input type="checkbox" id="hw_power"><label for="hw_power">Power adapter & cables</label></div>
        </div>

        <!-- Before and After Service Images -->
        <!-- Before and After Service Images -->
<div class="image-row">
  <div class="image-col">
    <label for="beforeImage">Before Service Image</label>
    <input type="file" id="beforeImage" accept="image/*">
    <div id="beforePreview" class="img-preview"></div>
  </div>
  <div class="image-col">
    <label for="afterImage">After Service Image</label>
    <input type="file" id="afterImage" accept="image/*">
    <div id="afterPreview" class="img-preview"></div>
  </div>
</div>


        <div class="section-title" style="margin-top:10px;">
          <div>Software & Access</div>
          <div class="muted">Installed & configured</div>
        </div>
        <div class="checklist" id="softwareList">
          <div class="item"><input type="checkbox" id="sw_os"><label for="sw_os">Operating System updated</label></div>
          <div class="item"><input type="checkbox" id="sw_av"><label for="sw_av">Antivirus installed & updated</label></div>
          <div class="item"><input type="checkbox" id="sw_vpn"><label for="sw_vpn">VPN configured</label></div>
          <div class="item"><input type="checkbox" id="sw_office"><label for="sw_office">Office Suite (MS Office / Google Workspace)</label></div>
          <div class="item"><input type="checkbox" id="sw_erp"><label for="sw_erp">ERP / Business Software (LN, SAP, etc.)</label></div>
          <div class="item"><input type="checkbox" id="sw_email"><label for="sw_email">Email account setup</label></div>
          <div class="item"><input type="checkbox" id="sw_userid"><label for="sw_userid">User ID & password created</label></div>
          <div class="item"><input type="checkbox" id="sw_network"><label for="sw_network">Network drives / NAS access</label></div>
          <div class="item"><input type="checkbox" id="sw_printer"><label for="sw_printer">Printer access</label></div>
        </div>

        <div class="section-title" style="margin-top:10px;">
          <div>Security & Compliance</div>
          <div class="muted">Policies & protection</div>
        </div>
        <div class="checklist" id="securityList">
          <div class="item"><input type="checkbox" id="sec_firewall"><label for="sec_firewall">Firewall enabled</label></div>
          <div class="item"><input type="checkbox" id="sec_password"><label for="sec_password">Password policy explained</label></div>
          <div class="item"><input type="checkbox" id="sec_mfa"><label for="sec_mfa">MFA enabled</label></div>
          <div class="item"><input type="checkbox" id="sec_access"><label for="sec_access">User access rights assigned</label></div>
          <div class="item"><input type="checkbox" id="sec_backup"><label for="sec_backup">Data backup configured</label></div>
        </div>

        <div class="section-title" style="margin-top:10px;">
          <div>Additional</div>
        </div>
        <div class="checklist" id="additionalList">
          <div class="item"><input type="checkbox" id="add_wifi"><label for="add_wifi">Internet / Wi-Fi access tested</label></div>
          <div class="item"><input type="checkbox" id="add_portal"><label for="add_portal">Company portal access tested</label></div>
          <div class="item"><input type="checkbox" id="add_training"><label for="add_training">Training materials provided</label></div>
          <div class="item"><input type="checkbox" id="add_support"><label for="add_support">IT support contact shared</label></div>
        </div>

        <div style="margin-top:14px; display:flex; gap:12px; align-items:center; flex-wrap:wrap;">
          <div style="flex:1">
            <label for="notes">Notes / Remarks</label>
            <textarea id="notes" rows="4" placeholder="e.g. Serial numbers, damage details, special instructions"></textarea>
          </div>
          <div style="min-width:220px;">
            <label>Signatures</label>
            <div style="display:flex; gap:8px; margin-top:6px;">
              <input id="empSign" type="text" placeholder="Employee name / signature" style="flex:1;">
              <input id="itSign" type="text" placeholder="IT staff name" style="flex:1;">
            </div>
          </div>
        </div>

        <div class="actions no-print">
          <button id="exportJsonBtn" type="button">Export JSON</button>
          <button class="secondary" id="exportCsvBtn" type="button">Export CSV</button>
          <button class="secondary" id="printBtn" type="button">Print</button>
          <button class="secondary" id="downloadPdfBtn" type="button">Download PDF (via Print)</button>
          <button class="warn" id="deleteBtn" type="button">Delete Saved</button>
        </div>

      </form>
    </main>

    <footer class="no-print">
      <div class="muted">Saved data is stored locally in your browser (localStorage). Use Export to create a file.</div>
    </footer>
  </div>

  <script>
    const CHECKLIST_KEY = 'employee_checklist_v2';
    const checkboxIds = [
      'hw_laptop','hw_monitor','hw_keyboard','hw_mouse','hw_headset','hw_dock','hw_power',
      'sw_os','sw_av','sw_vpn','sw_office','sw_erp','sw_email','sw_userid','sw_network','sw_printer',
      'sec_firewall','sec_password','sec_mfa','sec_access','sec_backup',
      'add_wifi','add_portal','add_training','add_support'
    ];

    function readForm(){
      const data = {
        employeeName: document.getElementById('empName').value || '',
        department: document.getElementById('department').value || '',
        dateIssued: document.getElementById('dateIssued').value || '',
        notes: document.getElementById('notes').value || '',
        empSignature: document.getElementById('empSign').value || '',
        itSignature: document.getElementById('itSign').value || '',
        imageBefore: document.getElementById('beforeImage').dataset.base64 || '',
        imageAfter: document.getElementById('afterImage').dataset.base64 || '',
        items: {}
      };
      checkboxIds.forEach(id=>{
        const el = document.getElementById(id);
        data.items[id] = !!(el && el.checked);
      });
      return data;
    }

    function populateForm(data){
      if(!data) return;
      document.getElementById('empName').value = data.employeeName || '';
      document.getElementById('department').value = data.department || '';
      document.getElementById('dateIssued').value = data.dateIssued || '';
      document.getElementById('notes').value = data.notes || '';
      document.getElementById('empSign').value = data.empSignature || '';
      document.getElementById('itSign').value = data.itSignature || '';

      if(data.items){
        checkboxIds.forEach(id=>{
          const el = document.getElementById(id);
          if(el) el.checked = !!data.items[id];
        });
      }

      // Restore Before Image
      if(data.imageBefore){
        const img = document.createElement('img');
        img.src = data.imageBefore;
        img.style.maxWidth = '100%';
        img.style.marginTop = '8px';
        const preview = document.getElementById('beforePreview');
        preview.innerHTML = '';
        preview.appendChild(img);
        document.getElementById('beforeImage').dataset.base64 = data.imageBefore;
      }

      // Restore After Image
      if(data.imageAfter){
        const img = document.createElement('img');
        img.src = data.imageAfter;
        img.style.maxWidth = '100%';
        img.style.marginTop = '8px';
        const preview = document.getElementById('afterPreview');
        preview.innerHTML = '';
        preview.appendChild(img);
        document.getElementById('afterImage').dataset.base64 = data.imageAfter;
      }
    }

    function saveChecklist(){
      const data = readForm();
      localStorage.setItem(CHECKLIST_KEY, JSON.stringify({savedAt: new Date().toISOString(), payload: data}));
      alert('Checklist saved locally.');
    }

    function loadChecklist(){
      const raw = localStorage.getItem(CHECKLIST_KEY);
      if(!raw){
        alert('No saved checklist found.');
        return;
      }
      try{
        const parsed = JSON.parse(raw);
        populateForm(parsed.payload || parsed);
        alert('Checklist loaded.');
      }catch(e){
        console.error(e);
        alert('Failed to load saved checklist.');
      }
    }

    function clearForm(){
      if(!confirm('Clear the form?')) return;
      document.getElementById('checklistForm').reset();
      document.getElementById('beforePreview').innerHTML = '';
      document.getElementById('afterPreview').innerHTML = '';
    }

    function deleteSaved(){
      if(!confirm('Delete saved checklist?')) return;
      localStorage.removeItem(CHECKLIST_KEY);
      alert('Saved checklist deleted.');
    }

    function exportJSON(){
      const data = readForm();
      const filename = `employee-checklist-${(data.employeeName || 'unknown').replace(/\s+/g,'_')}.json`;
      const blob = new Blob([JSON.stringify(data, null, 2)], {type:'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = filename; a.click();
      URL.revokeObjectURL(url);
    }

    function exportCSV(){
      const data = readForm();
      const rows = [];
      rows.push(['Employee Name', data.employeeName]);
      rows.push(['Department', data.department]);
      rows.push(['Date Issued', data.dateIssued]);
      rows.push(['Notes', data.notes]);
      rows.push(['Employee Signature', data.empSignature]);
      rows.push(['IT Signature', data.itSignature]);
      rows.push(['Before Image', data.imageBefore ? 'Yes' : 'No']);
      rows.push(['After Image', data.imageAfter ? 'Yes' : 'No']);
      rows.push([]);
      rows.push(['Checklist Item','Checked']);
      checkboxIds.forEach(id=>{
        const label = document.querySelector(`label[for="${id}"]`);
        rows.push([label?label.innerText:id, data.items[id]?'Yes':'No']);
      });
      const csv = rows.map(r=>r.map(x=>`"${(x||'').replace(/"/g,'""')}"`).join(',')).join('\n');
      const blob = new Blob([csv],{type:'text/csv'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `employee-checklist-${(data.employeeName||'unknown').replace(/\s+/g,'_')}.csv`;
      a.click();
      URL.revokeObjectURL(url);
    }

    function printChecklist(){
      window.print();
    }

    function handleImageUpload(inputId, previewId){
      const input = document.getElementById(inputId);
      const preview = document.getElementById(previewId);
      input.addEventListener('change',()=>{
        const file = input.files[0];
        if(!file) return;
        const reader = new FileReader();
        reader.onload = e=>{
          input.dataset.base64 = e.target.result;
          preview.innerHTML = '';
          const img = document.createElement('img');
          img.src = e.target.result;
          img.style.maxWidth = '100%';
          img.style.marginTop = '8px';
          preview.appendChild(img);
        };
        reader.readAsDataURL(file);
      });
    }

    // Event bindings
    document.getElementById('saveBtn').onclick = saveChecklist;
    document.getElementById('loadBtn').onclick = loadChecklist;
    document.getElementById('clearBtn').onclick = clearForm;
    document.getElementById('deleteBtn').onclick = deleteSaved;
    document.getElementById('exportJsonBtn').onclick = exportJSON;
    document.getElementById('exportCsvBtn').onclick = exportCSV;
    document.getElementById('printBtn').onclick = printChecklist;
    document.getElementById('downloadPdfBtn').onclick = ()=>printChecklist();
    handleImageUpload('beforeImage','beforePreview');
    handleImageUpload('afterImage','afterPreview');
  </script>
</body>
</html>
